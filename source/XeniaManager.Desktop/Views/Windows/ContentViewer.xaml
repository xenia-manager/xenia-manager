<ui:FluentWindow x:Class="XeniaManager.Desktop.Views.Windows.ContentViewer"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 xmlns:model="clr-namespace:XeniaManager.Desktop.ViewModel.Windows"
                 xmlns:local="clr-namespace:XeniaManager.Desktop.Views.Windows"
                 mc:Ignorable="d"
                 Title="Xenia Manager - Content Viewer" Height="600" Width="500"
                 ResizeMode="NoResize"
                 WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <HierarchicalDataTemplate
            DataType="{x:Type model:FileItem}"
            ItemsSource="{Binding Children}">
            <TextBlock Text="{Binding Name}" />
        </HierarchicalDataTemplate>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" MaxHeight="120" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <!-- Titlebar -->
        <ui:TitleBar x:Name="TbTitle"
                     Grid.Row="0"
                     FontSize="16"
                     Title="Game Content"
                     ShowMinimize="False"
                     ShowMaximize="False">
            <ui:TitleBar.Icon>
                <ui:ImageIcon x:Name="TbTitleIcon" Source="pack://application:,,,/Assets/1024.png" />
            </ui:TitleBar.Icon>
        </ui:TitleBar>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <ComboBox x:Name="CmbContentTypeList"
                      Grid.Column="0"
                      Grid.Row="0"
                      FontSize="20"
                      Margin="10"
                      ItemsSource="{Binding ContentFolders}"
                      DisplayMemberPath="Key"
                      SelectedValuePath="Value"
                      SelectionChanged="CmbContentTypeList_SelectionChanged" />
            <StackPanel Grid.Column="1"
                        Grid.Row="0"
                        Orientation="Horizontal">
                <Button x:Name="BtnOpenFolder"
                        Margin="10, 0, 5, 0"
                        Click="BtnOpenFolder_Click">
                    <Button.Content>
                        <ui:SymbolIcon Symbol="Folder24" FontSize="24" />
                    </Button.Content>
                </Button>
                <Button x:Name="BtnDeleteSave"
                        Margin="10, 0, 5, 0"
                        Click="BtnDeleteSave_Click">
                    <Button.Content>
                        <ui:SymbolIcon Symbol="Delete24" FontSize="24" />
                    </Button.Content>
                </Button>
                <Button x:Name="BtnExportSave"
                        Margin="5,0"
                        Click="BtnExportSave_Click">
                    <Button.Content>
                        <ui:SymbolIcon Symbol="SaveArrowRight24" FontSize="24" />
                    </Button.Content>
                </Button>
                <Button x:Name="BtnImportSave"
                        Margin="5,0,10,0"
                        Click="BtnImportSave_Click">
                    <Button.Content>
                        <ui:SymbolIcon Symbol="SaveMultiple24" FontSize="24" />
                    </Button.Content>
                </Button>
            </StackPanel>

            <ComboBox x:Name="CmbGamerProfiles"
                      Grid.Column="0"
                      Grid.ColumnSpan="2"
                      Grid.Row="1"
                      ItemsSource="{Binding Profiles}"
                      SelectedValuePath="Xuid"
                      FontSize="20"
                      Margin="10"
                      SelectionChanged="CmbGamerProfiles_SelectionChanged" />
        </Grid>
        <TreeView x:Name="TvwInstalledContentTree"
                  Grid.Row="2"
                  AllowDrop="True"
                  ItemsSource="{Binding Files}"
                  Margin="10">
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                    <TextBlock Text="{Binding Name}"
                               ToolTip="{Binding FullPath}" />
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>
        </TreeView>
    </Grid>
</ui:FluentWindow>