<Page x:Class="Xenia_Manager.Pages.XeniaSettings"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Xenia_Manager.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="4000" d:DesignWidth="910"
      Title="Xenia Settings">
    <Border CornerRadius="10,0,10,0" 
            Background="{DynamicResource BackgroundSecondaryColor}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <!-- List of configuration files & save button-->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition MinWidth="565"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <!-- List of configuration files -->
                <ComboBox x:Name="ConfigurationFilesList"
                          Grid.Column="0"
                          Height="40"
                          Style="{StaticResource ComboBoxStyle}"
                          SelectionChanged="ConfigurationFilesList_SelectionChanged">
                    <ComboBox.ToolTip>
                        <TextBlock TextAlignment="Left">
                            <TextBlock FontWeight="Bold" 
                                       Text="NOTE:"/>
                            Profiles for Xenia Stable, Canary and Netplay are used as a base for generating game configuration files
                            <LineBreak/>
                            All changes made to them will be overridden by game configuration files on launch
                        </TextBlock>
                    </ComboBox.ToolTip>
                </ComboBox>

                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <!-- Open in editor Button -->
                    <Button x:Name="OpenConfigurationFile" 
                            Grid.Row="0"
                            HorizontalAlignment="Center"
                            Margin="0,10"
                            Style="{StaticResource ButtonStyle}" 
                            VerticalAlignment="Center" 
                            Click="OpenConfigurationFile_Click">
                        <Button.Content>
                            <TextBlock FontSize="26"
                                       Style="{StaticResource AddGameText}"
                                       Text="Open in editor"/>
                        </Button.Content>
                        <Button.ToolTip>
                            <ToolTip>
                                <TextBlock TextAlignment="Left">
                                    Opens the selected profile's configuration file in a text editor.
                                    <LineBreak/>
                                    <TextBlock Text="NOTE:" 
                                               FontWeight="Bold"/>
                                    Please close the text editor when you're done with the changes.
                                    <LineBreak/>
                                    <TextBlock FontWeight="Bold"
                                               Text="IMPORTANT:" 
                                               TextDecorations="Underline"/>
                                    This is intended for advanced users.
                                </TextBlock>
                            </ToolTip>
                        </Button.ToolTip>
                    </Button>

                    <!-- Save Button -->
                    <Button x:Name="SaveSettings" 
                            Grid.Row="1"
                            HorizontalAlignment="Center"
                            Margin="0,0,0,10"
                            Style="{StaticResource ButtonStyle}"
                            VerticalAlignment="Center"
                            Click="SaveSettings_Click">
                        <Button.Content>
                            <TextBlock FontSize="26"
                                       Style="{StaticResource AddGameText}"
                                       Text="Save changes"/>
                        </Button.Content>
                    </Button>
                </Grid>
            </Grid>

            <!-- Seperation Line -->
            <Border Grid.Row="1" 
                    Style="{StaticResource SeperationLine}"/>

            <!-- List of settings -->
            <ScrollViewer Grid.Row="2"
                          HorizontalScrollBarVisibility="Hidden"
                          VerticalScrollBarVisibility="Auto">
                <StackPanel>

                    <!-- APU Settings-->
                    <TextBlock FontSize="40" 
                               Margin="0,10"
                               Style="{StaticResource SettingText}" 
                               Text="Audio Settings"/>

                    <!-- apu -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Audio system.
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Audio System 
                            </TextBlock>
                            
                            <ComboBox x:Name="apuSelector" 
                                      Grid.Column="1" 
                                      FontSize="18" 
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="150">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="any" />
                                    <ComboBoxItem Content="nop" />
                                    <ComboBoxItem Content="sdl" />
                                    <ComboBoxItem Content="xaudio2" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- apu_max_queued_frames -->
                    <Border x:Name="apuMaxQueuedFramesOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Allows changing max buffered audio frames to reduce audio delay.
                                            <LineBreak/>
                                            <TextBlock FontWeight="Bold"
                                                       Text="NOTE:"/>
                                            Minimum is 16
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Max Queued Frames
                            </TextBlock>

                            <TextBox x:Name="apuMaxQueuedFramesTextBox" 
                                     Grid.Column="1"
                                     FontSize="18" 
                                     HorizontalContentAlignment="Center"
                                     Margin="0,10"
                                     Style="{StaticResource TextBoxStyle}"
                                     TextChanged="apuMaxQueuedFramesTextBox_TextChanged"
                                     VerticalContentAlignment="Center"
                                     Width="130"/>
                        </Grid>
                    </Border>

                    <!-- Mute -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Mutes all audio output.
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Mute Audio
                            </TextBlock>
                            
                            <CheckBox x:Name="Mute" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Use dedicated xma thread -->
                    <Border x:Name="DedicatedXMAThreadOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enables XMA decoding on separate thread.
                                            <LineBreak/>
                                            Disabled should produce better results, but decrease performance a bit.
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Dedicated XMA Thread
                            </TextBlock>
                            
                            <CheckBox x:Name="UseXMAThread" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Use new decoder -->
                    <Border x:Name="NewAudioDecoderOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="20" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enables the usage of new experimental XMA audio decoder.
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                XMA Audio Decoder
                                <LineBreak/>
                                (Experimental)
                            </TextBlock>
                            
                            <CheckBox x:Name="UseNewDecoder" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Display settings -->
                    <TextBlock Text="Display Settings" 
                               FontSize="40" 
                               Margin="0,10,0,10"
                               Style="{StaticResource SettingText}"/>

                    <!-- Fullscreen -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            If enabled, it opens the emulator in fullscreen.
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Fullscreen
                            </TextBlock>
                            
                            <CheckBox x:Name="Fullscreen" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Letterboxing/Pillarboxing -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Black bars (Letterboxing/Pillarboxing)
                                            <LineBreak/>
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:" 
                                                       TextDecorations="Underline"/>
                                            <LineBreak/>
                                            <TextBlock Padding="10,0,0,0"
                                                       TextAlignment="Left">
                                                - On (no stretching, default)
                                                <LineBreak/>
                                                - Off (stretching, required for aspect ratio patches)
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Letterbox
                            </TextBlock>
                            
                            <CheckBox x:Name="Letterbox" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Internal Display Resolution -->
                    <Border x:Name="InternalDisplayResolutionOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Allows the game that support different resolutions to be rendered in specific resolution.
                                            <LineBreak/>
                                            <TextBlock FontWeight="Bold" 
                                                       Text="NOTE:"/>
                                            The game has to actually support the resolution for this to work. 1280x720 will work in pretty much every game.
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Internal Display Resolution
                            </TextBlock>
                            
                            <ComboBox x:Name="InternalDisplayResolutionSelector" 
                                      Grid.Column="1" 
                                      FontSize="18" 
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="150">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="640x480" />
                                    <ComboBoxItem Content="640x576" />
                                    <ComboBoxItem Content="720x480" />
                                    <ComboBoxItem Content="720x576" />
                                    <ComboBoxItem Content="800x600" />
                                    <ComboBoxItem Content="848x480" />
                                    <ComboBoxItem Content="1024x768" />
                                    <ComboBoxItem Content="1152x864" />
                                    <ComboBoxItem Content="1280x720" />
                                    <ComboBoxItem Content="1280x768" />
                                    <ComboBoxItem Content="1280x960" />
                                    <ComboBoxItem Content="1280x1024" />
                                    <ComboBoxItem Content="1360x768" />
                                    <ComboBoxItem Content="1440x900" />
                                    <ComboBoxItem Content="1680x1050" />
                                    <ComboBoxItem Content="1920x540" />
                                    <ComboBoxItem Content="1920x1080" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- VSync -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enable Vertical Sync
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Vertical Sync
                            </TextBlock>
                            
                            <CheckBox x:Name="vSync" 
                                      Grid.Column="1"
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Framerate Limit-->
                    <Border x:Name="XeniaFramerateLimiterOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Maximum frames per second.
                                            <LineBreak/>
                                            Defaults to 60 when set to 0 and VSYNC is enabled.
                                            <LineBreak/>
                                            0 = Unlimited Frames
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Framerate Limit
                            </TextBlock>

                            <Grid Grid.Column="1"
                                  Margin="0"
                                  VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Slider x:Name="FrameRateLimit"
                                        Grid.Row="0"
                                        Minimum="0" Maximum="144"
                                        IsSnapToTickEnabled="True" TickFrequency="1"
                                        Width="240"/>
                                <TextBlock Grid.Row="1"
                                           FontSize="18" 
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource SettingText}"
                                           Text="{Binding ElementName=FrameRateLimit, Path=Value}"/>
                            </Grid>
                        </Grid>
                    </Border>
                    
                    <!-- NVIDIA Driver Settings -->
                    <Grid x:Name="NvidiaDriverSettings"
                          Visibility="Visible">
                        <StackPanel>
                            <!-- NVIDIA settings -->
                            <TextBlock Text="NVIDIA Driver Settings" 
                                       FontSize="40" 
                                       Margin="0,10"
                                       Style="{StaticResource SettingText}"/>

                            <!-- VSync -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="24" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Enable Vertical Sync from NVIDIA Control Panel
                                                    <LineBreak/>
                                                    Turn off Xenia Vertical Sync if you plan on using this one
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                        - Default (Use the 3D application settings)
                                                        <LineBreak/>
                                                        - Force Off - Allows GPU to render unconstrained by refresh rate, but it can cause screen tearing
                                                        <LineBreak/>
                                                        - Force On - Limits the GPU Render rate to the max refresh rate of the monitor and avoids tearing
                                                        <LineBreak/>
                                                        - Adaptive (Fast Sync) - Limits the GPU Render rate similar to On, but if render rate drops it will allow screen tearing
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Vertical Sync
                                    </TextBlock>
                                    
                                    <ComboBox x:Name="NvidiaVSyncSelector" 
                                              Grid.Column="1" 
                                              FontSize="18"
                                              HorizontalContentAlignment="Center"
                                              Margin="0,10"          
                                              Style="{StaticResource ComboBoxStyle}"
                                              VerticalContentAlignment="Center"
                                              Width="150">
                                        <ComboBox.Items>
                                            <ComboBoxItem Content="Default" />
                                            <ComboBoxItem Content="Force Off" />
                                            <ComboBoxItem Content="Force On" />
                                            <ComboBoxItem Content="Adaptive" />
                                        </ComboBox.Items>
                                    </ComboBox>
                                </Grid>
                            </Border>

                            <!-- Framerate Limit -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="24" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Maximum frames per second.
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="Bold" 
                                                               Text="NOTE:"/>
                                                    Make sure Xenia Framerate Limiter is set to 0 for this to work.
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Framerate Limiter
                                        
                                    </TextBlock>

                                    <Grid Grid.Column="1"
                                          Margin="0"
                                          VerticalAlignment="Center">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Slider x:Name="NvidiaFrameRateLimiter"
                                                Grid.Row="0"
                                                Minimum="0" Maximum="240"
                                                IsSnapToTickEnabled="True" TickFrequency="1"
                                                Width="240"
                                                ValueChanged="NvidiaFrameRateLimiter_ValueChanged"/>
                                        <TextBlock x:Name="NvidiaFrameRateLimiterValue" Grid.Row="1"
                                                   FontSize="18" 
                                                   HorizontalAlignment="Center"
                                                   Style="{StaticResource SettingText}"/>
                                    </Grid>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Grid>

                    <!-- GPU settings -->
                    <TextBlock Text="Graphical Settings" 
                               FontSize="40" 
                               Margin="0,10"
                               Style="{StaticResource SettingText}"/>

                    <!-- GPU API -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Graphics API
                                            <LineBreak/>
                                            "any" is the default value and best if you don't know what you're doing
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Graphics API    
                            </TextBlock>
                            
                            <ComboBox x:Name="gpuSelector" 
                                      Grid.Column="1" 
                                      FontSize="18"
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="150"
                                      SelectionChanged="gpuSelector_SelectionChanged">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="any" />
                                    <ComboBoxItem Content="D3D12" />
                                    <ComboBoxItem Content="Vulkan" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Direct3D 12 Settings -->
                    <Grid x:Name="Direct3DSettings"
                          Visibility="Visible">
                        <StackPanel Grid.ColumnSpan="2">
                            <!-- Variable Refresh Rate and Tearing -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Screen tearing and VRR
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                        - On (default, supports variable refresh rate)
                                                        <LineBreak/>
                                                        - Off (increases input lag, may break variable refresh rate)
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Variable Refresh Rate
                                        <LineBreak/>
                                        (Direct3D 12)
                                    </TextBlock>
                                    
                                    <CheckBox x:Name="D3D12VRR" 
                                              Grid.Column="1" 
                                              Cursor="Hand"
                                              Margin="0,10" 
                                              Style="{StaticResource CheckboxStyle}"
                                              Width="45"/>
                                </Grid>
                            </Border>

                            <!-- Render target path -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                    - Auto-selection (default)
                                                    <LineBreak/>
                                                    - RTV (recommended for speed)
                                                    <LineBreak/>
                                                    - ROV aka Rasterizer-Ordered views (if available, for higher accuracy in certain cases)
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Render Target Path
                                        <LineBreak/>
                                        (Direct3D 12)
                                    </TextBlock>
                                    
                                    <ComboBox x:Name="D3D12RenderTargetPathSelector" 
                                              Grid.Column="1" 
                                              FontSize="18"
                                              HorizontalContentAlignment="Center"
                                              Margin="0,10" 
                                              Style="{StaticResource ComboBoxStyle}"
                                              VerticalContentAlignment="Center"
                                              Width="150">
                                        <ComboBox.Items>
                                            <ComboBoxItem Content="Auto" />
                                            <ComboBoxItem Content="RTV" />
                                            <ComboBoxItem Content="ROV" />
                                        </ComboBox.Items>
                                    </ComboBox>
                                </Grid>
                            </Border>

                            <!-- Readback Resolve -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    CPU readback after render target resolving.
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                    - On (slower)
                                                    <LineBreak/>
                                                    - Off (default) 
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip> 
                                        Readback Resolve
                                        <LineBreak/>
                                        (Direct3D 12)
                                    </TextBlock>
                                    
                                    <CheckBox x:Name="D3D12ReadbackResolve" 
                                              Grid.Column="1" 
                                              Cursor="Hand"
                                              Margin="0,10" 
                                              Style="{StaticResource CheckboxStyle}"
                                              Width="45"/>
                                </Grid>
                            </Border>

                            <!-- Render target path -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Setting this higher than default may improve performance.
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock TextAlignment="Left"
                                                               Padding="10,0,0,0">
                                                    - Normal
                                                    <LineBreak/>
                                                    - High (default, recommended for speed) 
                                                    <LineBreak/>
                                                    - Global realtime (requires running Xenia as administrator)
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Queue Priority
                                        <LineBreak/>
                                        (Direct3D 12)
                                    </TextBlock>
                                    
                                    <ComboBox x:Name="D3D12QueuePrioritySelector" 
                                              Grid.Column="1"
                                              FontSize="18" 
                                              HorizontalContentAlignment="Center"
                                              Margin="0,10" 
                                              Style="{StaticResource ComboBoxStyle}"
                                              VerticalContentAlignment="Center"
                                              Width="150">
                                        <ComboBox.Items>
                                            <ComboBoxItem Content="Normal" />
                                            <ComboBoxItem Content="High" />
                                            <ComboBoxItem Content="Realtime" />
                                        </ComboBox.Items>
                                    </ComboBox>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Grid>

                    <!-- Vulkan Settings -->
                    <Grid x:Name="VulkanSettings"
                          Visibility="Visible">
                        <StackPanel Grid.ColumnSpan="2">
                            <!-- Render target path -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                    - Auto-selection (default)
                                                    <LineBreak/>
                                                    - FBO (recommended for speed)
                                                    <LineBreak/>
                                                    - FSI (if available, for higher accuracy in certain cases)
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Render Target Path
                                        <LineBreak/>
                                        (Vulkan)
                                    </TextBlock>
                                    
                                    <ComboBox x:Name="VulkanRenderTargetPathSelector" 
                                              Grid.Column="1" 
                                              FontSize="18"
                                              HorizontalContentAlignment="Center"
                                              Margin="0,10" 
                                              Style="{StaticResource ComboBoxStyle}"
                                              VerticalContentAlignment="Center"
                                              Width="150">
                                        <ComboBox.Items>
                                            <ComboBoxItem Content="Auto" />
                                            <ComboBoxItem Content="FBO" />
                                            <ComboBoxItem Content="FSI" />
                                        </ComboBox.Items>
                                    </ComboBox>
                                </Grid>
                            </Border>

                            <!-- Present Mode Immediate -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Highest priority present mode.
                                                    <LineBreak/>
                                                    Allows the immediate presentation mode, offering the lowest latency with the possibility of tearing in certain cases, and, depending on the configuration, variable refresh rate.
                                                    <LineBreak/>
                                                    <TextBlock Text="NOTE:" 
                                                       FontWeight="Bold"/>
                                                    If this one doesn't work, try the other 2 present modes
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                    - On (default, supports variable refresh rate) 
                                                    <LineBreak/>
                                                    - Off (no tearing, may break variable refresh rate)
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Present Mode Immediate
                                        <LineBreak/>
                                        (Vulkan)
                                    </TextBlock>
                                    
                                    <CheckBox x:Name="VulkanPresentModeImmediate" 
                                              Grid.Column="1"
                                              Cursor="Hand"
                                              Margin="0,10" 
                                              Style="{StaticResource CheckboxStyle}"
                                              Width="45"/>
                                </Grid>
                            </Border>

                            <!-- Present Mode Mailbox -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Middle priority present mode
                                                    <LineBreak/>
                                                    Allows the mailbox presentation mode (2nd priority), offering low latency without the possibility of tearing
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="Bold" 
                                                               Text="NOTE:"/>
                                                    If this one doesn't work, try FIFO Relaxed present mode
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                    - On (default, disables screen tearing if other present modes are disabled)
                                                    <LineBreak/>
                                                    - Off
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>  
                                        Present Mode Mailbox
                                        <LineBreak/>
                                        (Vulkan)
                                    </TextBlock>
                                    
                                    <CheckBox x:Name="VulkanPresentModeMailbox" 
                                              Grid.Column="1" 
                                              Cursor="Hand"
                                              Margin="0,10" 
                                              Style="{StaticResource CheckboxStyle}"
                                              Width="45"/>
                                </Grid>
                            </Border>

                            <!-- Present Mode FIFO Relaxed -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Lowest priority present mode
                                                    <LineBreak/>
                                                    Allows the relaxed first-in-first-out presentation mode, which causes waiting for host display vertical sync, but may present with tearing if frames don't meet the host display refresh rate
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="SemiBold" 
                                                               Text="Options:"
                                                               TextDecorations="Underline"/>
                                                    <LineBreak/>
                                                    <TextBlock Padding="10,0,0,0" 
                                                               TextAlignment="Left">
                                                    - On (default) 
                                                    <LineBreak/>
                                                    - Off (no tearing unless below display refresh rate)
                                                    </TextBlock>
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        Present Mode FIFO Relaxed
                                        <LineBreak/>
                                        (Vulkan)
                                    </TextBlock>
                                    
                                    <CheckBox x:Name="VulkanPresentModeFIFORelaxed" 
                                              Grid.Column="1" 
                                              Cursor="Hand"
                                              Margin="0,10" 
                                              Style="{StaticResource CheckboxStyle}"
                                              Width="45"/>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Grid>

                    <!-- Draw Resolution Scale -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Integer pixel width scale used for scaling the rendering resolution opaquely to the game.
                                            <LineBreak/>
                                            1, 2 and 3 are supported, though in the documentation, this value can go to 7 (8960x5040).
                                            <LineBreak/>
                                            If set to 2, render resolution goes from 720p to 1440p, if set to 3 to 4k...
                                            <LineBreak/>
                                            <TextBlock FontWeight="Bold" 
                                                       Text="NOTE:"/>
                                            Various effects and parts of game rendering pipelines may work incorrectly
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Draw Resolution Scale
                            </TextBlock>

                            <Grid Grid.Column="1"
                                  Margin="0"
                                  VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Slider x:Name="DrawResolutionScale"
                                        Grid.Row="0"
                                        Minimum="1" Maximum="7" Value="1"
                                        Width="240"
                                        IsSnapToTickEnabled="True" TickFrequency="1"/>
                                <TextBlock Grid.Row="1"
                                           FontSize="18" 
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource SettingText}"
                                           Text="{Binding ElementName=DrawResolutionScale, Path=Value}"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Anti-Aliasing -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Post-processing anti-aliasing effect to apply to the image output of the game
                                            <LineBreak/>
                                            Heavily recommended when AMD FidelityFX Contrast Adaptive Sharpening or Super Resolution 1.0 is active                    
                                            <LineBreak/>
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:"
                                                       TextDecorations="Underline"/>
                                                    <LineBreak/>
                                            <TextBlock Padding="10,0,0,0" 
                                                       TextAlignment="Left">
                                                - none
                                                <LineBreak/>
                                                - FXAA - NVIDIA Fast Approximate Anti-Aliasing 3.11, normal quality preset
                                                <LineBreak/>
                                                - FXAA Extreme - NVIDIA Fast Approximate Anti-Aliasing 3.11, extreme quality preset
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Anti-Aliasing
                            </TextBlock>
                            
                            <ComboBox x:Name="AntiAliasingSelector" 
                                      Grid.Column="1"
                                      FontSize="18"
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="150">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="None" />
                                    <ComboBoxItem Content="FXAA" />
                                    <ComboBoxItem Content="FXAA Extreme" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Scaling and sharpening -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Post-processing effect to use for resampling and/or sharpening of the final display output
                                            <LineBreak/>
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:"
                                                       TextDecorations="Underline"/>
                                            <LineBreak/>
                                            <TextBlock Padding="10,0,0,0" 
                                                       TextAlignment="Left">
                                                - Bilinear - Original image at 1:1, simple bilinear stretching for resampling.                   
                                                <LineBreak/>
                                                - FidelityFX CAS - Use AMD FidelityFX Contrast Adaptive Sharpening (CAS) for sharpening at scaling factors of up to 2x2, with additional bilinear stretching for larger factors
                                                <LineBreak/>
                                                - AMD FSR - Use AMD FidelityFX Super Resolution 1.0 (FSR) for highest-quality upscaling, or AMD FidelityFX Contrast Adaptive Sharpening for sharpening while not scaling or downsampling
                                                <LineBreak/>
                                                <TextBlock FontWeight="Bold" 
                                                           Text="NOTE:"/>
                                                For scaling by factors of more than 2x2, multiple FSR passes are done
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Scaling and sharpening
                            </TextBlock>
                            
                            <ComboBox x:Name="ScalingAndSharpeningSelector" 
                                      Grid.Column="1"
                                      FontSize="18"
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10"  
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="150">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="Bilinear" />
                                    <ComboBoxItem Content="FidelityFX CAS" />
                                    <ComboBoxItem Content="AMD FSR" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- FSR Sharpness Reduction -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Sharpness reduction for AMD FidelityFX Super Resolution 1.0 (FSR), in stops
                                            <LineBreak/>
                                            0.000 - 1.000 (Lower is sharper)
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                FSR Sharpness Reduction
                            </TextBlock>

                            <Grid Grid.Column="1"
                                  Margin="0"
                                  VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Slider x:Name="FSRSharpnessReduction"
                                        Grid.Row="0"
                                        Minimum="0" Maximum="1000"
                                        Width="240"
                                        ValueChanged="FSRSharpnessReduction_ValueChanged"/>
                                <TextBlock x:Name="FSRSharpnessReductionValue" 
                                           Grid.Row="1"
                                           FontSize="18" 
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource SettingText}"
                                           Text="0"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- CAS Additional Sharpness -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Additional sharpness for AMD FidelityFX Contrast Adaptive Sharpening (CAS)
                                            <LineBreak/>
                                            Higher is sharper
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                CAS Additional Sharpness
                            </TextBlock>

                            <Grid Grid.Column="1"
                                  Margin="0"
                                  VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Slider x:Name="CASAdditionalSharpness"
                                        Grid.Row="0"
                                        Minimum="0" Maximum="1000"
                                        Width="240"
                                        ValueChanged="CASAdditionalSharpness_ValueChanged"/>
                                <TextBlock x:Name="CASAdditionalSharpnessValue" 
                                           Grid.Row="1"
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource SettingText}"
                                           Text="0"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- FSR Max Upsampling Passes -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Maximum number of upsampling passes performed in AMD FidelityFX Super Resolution 1.0 (FSR) before falling back to bilinear stretching after the final pass
                                            <LineBreak/>
                                            Each pass upscales only to up to 2x2 the previous size.
                                            <LineBreak/>
                                            If the game outputs a 1280x720 image, 1 pass will upscale it to up to 2560x1440 (below 4K), after 2 passes it will be upscaled to a maximum of 5120x2880 (including 3840x2160 for 4K)...
                                            <LineBreak/>
                                            This variable has no effect if the display resolution isn't very high, but may be reduced on resolutions like 4K or 8K in case the performance impact of multiple FSR upsampling passes is too high, or if softer edges are desired
                                            <LineBreak/>
                                            1 - 4, 4 is the maximum internally supported by Xenia
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                FSR Max Upsampling Passes 
                            </TextBlock>

                            <Grid Grid.Column="1"
                                  Margin="0"
                                  VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Slider x:Name="FSRMaxUpsamplingPasses"
                                        Grid.Row="0"
                                        Minimum="1" Maximum="4" Value="1"
                                        Width="240"
                                        IsSnapToTickEnabled="True" TickFrequency="1"/>
                                <TextBlock Grid.Row="1"
                                           FontSize="18" 
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource SettingText}"
                                           Text="{Binding ElementName=FSRMaxUpsamplingPasses, Path=Value}"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Post Process Dither -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Dither the final image output from the internal precision to 8 bits per channel so gradients are smoother
                                            <LineBreak/>
                                            On a 10bpc display, the lower 2 bits will still be kept, but noise will be added to them
                                            <LineBreak/>
                                            Disabling may be recommended for 10bpc, but it depends on the 10bpc displaying capabilities of the actual display used
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Post Process Dither
                            </TextBlock>
                            
                            <CheckBox x:Name="PostProcessDither" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Gamma render target as sRGB -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            When the host can't write piecewise linear gamma directly with correct blending, 
                                            <LineBreak/>
                                            use sRGB output on the host for conceptually correct blending in linear color space 
                                            <LineBreak/>
                                            while having slightly different precision distribution in the render target and severely incorrect values if the game accesses the resulting colors directly as raw data
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Gamma Render Target as sRGB
                            </TextBlock>
                            
                            <CheckBox x:Name="gammaRenderTargetAsSRGB" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- General settings -->
                    <TextBlock Text="General Settings" 
                               FontSize="40"
                               Margin="0,10"
                               Style="{StaticResource SettingText}"/>

                    <!-- Allow Plugins -->
                    <Border x:Name="AllowPluginsOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Allows loading of plugins/trainers from plugins\title_id\plugin.xex
                                            <LineBreak/>
                                            Plugin are homebrew xex modules which can be used for making mods
                                            <LineBreak/>
                                            <TextBlock FontWeight="Bold" 
                                                       Text="NOTE:"/>
                                            This feature is experimental
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Allow Plugins
                            </TextBlock>
                            
                            <CheckBox x:Name="AllowPlugins" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Discord Rich Presence -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enable Discord rich presence
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Discord Rich Presence
                            </TextBlock>
                            
                            <CheckBox x:Name="DiscordRPC" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Apply Patches -->
                    <Border x:Name="ApplyPatchesOption"
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enables custom patching functionality
                                            <LineBreak/>
                                            If disabled, game patches like 60FPS patch won't work
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Game Patches
                            </TextBlock>
                            
                            <CheckBox x:Name="ApplyPatches" 
                                      Grid.Column="1"
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- License Mask -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Set license mask for activated content.
                                            <LineBreak/>
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:"
                                                       TextDecorations="Underline"/>
                                            <LineBreak/>
                                            <TextBlock Padding="10,0,0,0" 
                                                       TextAlignment="Left">
                                                - No License
                                                <LineBreak/>
                                                - First License (Generally the full version license in Xbox Live Arcade titles)
                                                <LineBreak/>
                                                - All Licenses (All possible licenses enabled, but it could lead to some undefined behavior)
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                License Mask
                            </TextBlock>
                            
                            <ComboBox x:Name="licenseMaskSelector" 
                                      Grid.Column="1" 
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10" 
                                      FontSize="18" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="150">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="No Licenses" />
                                    <ComboBoxItem Content="First License" />
                                    <ComboBoxItem Content="All Licenses" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Apply title update -->
                    <Border x:Name="ApplyTitleUpdateOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enables applying title updates
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Title Updates
                            </TextBlock>
                            
                            <CheckBox x:Name="ApplyTitleUpdate" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Show Achievement Notifications -->
                    <Border x:Name="ShowAchievementNotificationsOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="20" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Show achievement notification on screen
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Show Achievement 
                                <LineBreak/>
                                Notifications
                            </TextBlock>
                            
                            <CheckBox x:Name="ShowAchievementNotifications" 
                                      Grid.Column="1"
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- User Language -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Used for changing language in games (If they support it)
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                User Language
                            </TextBlock>
                            
                            <ComboBox x:Name="UserLanguageSelector" 
                                      Grid.Column="1" 
                                      FontSize="18"
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="165">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="English" />
                                    <ComboBoxItem Content="Japanese/日本語" />
                                    <ComboBoxItem Content="Deutsche" />
                                    <ComboBoxItem Content="Français" />
                                    <ComboBoxItem Content="Español" />
                                    <ComboBoxItem Content="Italiano" />
                                    <ComboBoxItem Content="한국어" />
                                    <ComboBoxItem Content="繁體中文" />
                                    <ComboBoxItem Content="Português" />
                                    <ComboBoxItem Content="Polski" />
                                    <ComboBoxItem Content="русский" />
                                    <ComboBoxItem Content="Svenska" />
                                    <ComboBoxItem Content="Türk" />
                                    <ComboBoxItem Content="Norsk" />
                                    <ComboBoxItem Content="Nederlands" />
                                    <ComboBoxItem Content="简体中文" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Netplay settings -->
                    <Grid x:Name="NetplaySettings"
                          Visibility="Visible">
                        <StackPanel>
                            <TextBlock Text="Netplay Settings" 
                                       FontSize="40" 
                                       Margin="0,10"
                                       Style="{StaticResource SettingText}"/>

                            <!-- API Address -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="24" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                Address that points to the Xenia WebServices
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                    API Address
                                </TextBlock>
                                    
                                    <TextBox x:Name="apiAddressTextBox" 
                                             Grid.Column="1"
                                             FontSize="18" 
                                             HorizontalContentAlignment="Left"
                                             Margin="0,10"
                                             Style="{StaticResource TextBoxStyle}"
                                             VerticalContentAlignment="Center"
                                             Width="300"/>
                                </Grid>
                            </Border>

                            <!-- UPnP -->
                            <Border x:Name="UPnPOption" 
                                    Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="20" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    This setting must be enabled to host sessions
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                        UPnP (Universal Plug and Play)
                                    </TextBlock>
                                    
                                    <CheckBox x:Name="UPnP" 
                                              Grid.Column="1" 
                                              Cursor="Hand"
                                              Margin="0,10" 
                                              Style="{StaticResource CheckboxStyle}"
                                              Width="45"/>
                                </Grid>
                            </Border>

                            <!-- User 0 Gamertag -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="24" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Name of User 0 that will be used in online sessions
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="Bold" 
                                                               Text="NOTE:"/>
                                                    Number of characters is limited to 15
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                    User 0 Gamertag
                                </TextBlock>
                                    
                                    <TextBox x:Name="user0GamerTagTextBox" 
                                             Grid.Column="1"
                                             FontSize="18" 
                                             HorizontalContentAlignment="Center"
                                             Margin="0,10"
                                             VerticalContentAlignment="Center"
                                             Style="{StaticResource TextBoxStyle}"
                                             Width="200"
                                             TextChanged="GamerTagTextBox_TextChanged"/>
                                </Grid>
                            </Border>

                            <!-- User 1 Gamertag -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="24" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Name of User 1 that will be used in online sessions
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="Bold" 
                                                               Text="NOTE:"/>
                                                    Number of characters is limited to 15
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                    User 1 Gamertag
                                </TextBlock>
                                    
                                    <TextBox x:Name="user1GamerTagTextBox" 
                                             Grid.Column="1"
                                             FontSize="18" 
                                             HorizontalContentAlignment="Center"
                                             Margin="0,10"
                                             VerticalContentAlignment="Center"
                                             Style="{StaticResource TextBoxStyle}"
                                             Width="200"
                                             TextChanged="GamerTagTextBox_TextChanged"/>
                                </Grid>
                            </Border>

                            <!-- User 2 Gamertag -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="24" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Name of User 2 that will be used in online sessions
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="Bold" 
                                                               Text="NOTE:"/>
                                                    Number of characters is limited to 15
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                    User 2 Gamertag
                                </TextBlock>
                                    
                                    <TextBox x:Name="user2GamerTagTextBox" 
                                             Grid.Column="1"
                                             FontSize="18" 
                                             HorizontalContentAlignment="Center"
                                             Margin="0,10"
                                             VerticalContentAlignment="Center"
                                             Style="{StaticResource TextBoxStyle}"
                                             Width="200"
                                             TextChanged="GamerTagTextBox_TextChanged"/>
                                </Grid>
                            </Border>

                            <!-- User 3 Gamertag -->
                            <Border Style="{StaticResource XeniaSetting}">
                                <Grid Height="50">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" 
                                               FontSize="24" 
                                               Style="{StaticResource SettingText}">
                                        <TextBlock.ToolTip>
                                            <ToolTip>
                                                <TextBlock TextAlignment="Left">
                                                    Name of User 3 that will be used in online sessions
                                                    <LineBreak/>
                                                    <TextBlock FontWeight="Bold" 
                                                               Text="NOTE:"/>
                                                    Number of characters is limited to 15
                                                </TextBlock>
                                            </ToolTip>
                                        </TextBlock.ToolTip>
                                    User 3 Gamertag
                                </TextBlock>
                                    
                                    <TextBox x:Name="user3GamerTagTextBox" 
                                             Grid.Column="1"
                                             FontSize="18" 
                                             HorizontalContentAlignment="Center"
                                             Margin="0,10" 
                                             VerticalContentAlignment="Center"
                                             Style="{StaticResource TextBoxStyle}"
                                             Width="200"
                                             TextChanged="GamerTagTextBox_TextChanged"/>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </Grid>

                    <!-- HID settings -->
                    <TextBlock Text="User Input Settings" 
                               FontSize="40" 
                               Margin="0,10"
                               Style="{StaticResource SettingText}"/>

                    <!-- HID Selector -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:"
                                                       TextDecorations="Underline"/>
                                            <LineBreak/>
                                            <TextBlock Padding="10,0,0,0" 
                                                       TextAlignment="Left">
                                                - Any (default)
                                                <LineBreak/>
                                                - SDL2 (needed for non-XInput controllers) 
                                                <LineBreak/>
                                                - XInput (XInput controllers)
                                                <LineBreak/>
                                                - Winkey (keyboard)
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Input System    
                            </TextBlock>
                            
                            <ComboBox x:Name="InputSystemSelector" 
                                      Grid.Column="1" 
                                      FontSize="18"
                                      HorizontalContentAlignment="Center"
                                      Margin="0,10" 
                                      Style="{StaticResource ComboBoxStyle}"
                                      VerticalContentAlignment="Center"
                                      Width="150">
                                <ComboBox.Items>
                                    <ComboBoxItem Content="Any" />
                                    <ComboBoxItem Content="SDL2" />
                                    <ComboBoxItem Content="XInput" />
                                    <ComboBoxItem Content="Keyboard" />
                                </ComboBox.Items>
                            </ComboBox>
                        </Grid>
                    </Border>

                    <!-- Left Stick Deadzone Percentage -->
                    <Border x:Name="LeftStickDeadzoneOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Defines deadzone level for the left stick
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Left Stick Deadzone
                            </TextBlock>

                            <Grid Grid.Column="1"
                                  Margin="0"
                                  VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Slider x:Name="LeftStickDeadzonePercentage"
                                        Grid.Row="0"
                                        Minimum="0" Maximum="10"
                                        Width="240"
                                        ValueChanged="LeftStickDeadzonePercentage_ValueChanged"/>
                                <TextBlock x:Name="LeftStickDeadzonePercentageValue" 
                                           Grid.Row="1"
                                           FontSize="18" 
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource SettingText}"
                                           Text="0"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Right Stick Deadzone Percentage -->
                    <Border x:Name="RightStickDeadzoneOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24"
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Defines deadzone level for the right stick
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Right Stick Deadzone
                            </TextBlock>

                            <Grid Grid.Column="1"
                                  Margin="0"
                                  VerticalAlignment="Center">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Slider x:Name="RightStickDeadzonePercentage"
                                        Grid.Row="0"
                                        Minimum="0" Maximum="10"
                                        Width="240"
                                        ValueChanged="RightStickDeadzonePercentage_ValueChanged"/>
                                <TextBlock x:Name="RightStickDeadzonePercentageValue" 
                                           Grid.Row="1"
                                           FontSize="18" 
                                           HorizontalAlignment="Center"
                                           Style="{StaticResource SettingText}"
                                           Text="0"/>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Controller hotkeys -->
                    <Border x:Name="ControllerHotkeysOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Hotkeys for Xbox and PS controllers
                                            <LineBreak/>
                                            <TextBlock Text="NOTE:" 
                                                       FontWeight="Bold"/>
                                            Can interfere with the gameplay
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Controller Hotkeys
                            </TextBlock>
                            
                            <CheckBox x:Name="ControllerHotkeys" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Vibration -->
                    <Border x:Name="ControllerVibrationOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Toggle controller vibration
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Controller Vibration
                            </TextBlock>
                            
                            <CheckBox x:Name="ControllerVibration" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Storage settings -->
                    <TextBlock Text="Storage Settings" 
                               FontSize="40" 
                               Margin="0,10"
                               Style="{StaticResource SettingText}"/>

                    <!-- Mount cache -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enable cache mount
                                            <LineBreak/>
                                            Can fix some games
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Mount Cache
                            </TextBlock>
                            
                            <CheckBox x:Name="MountCache" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Mount scratch -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Enable scratch mount
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Mount Scratch
                            </TextBlock>
                            
                            <CheckBox x:Name="MountScratch" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Hacks -->
                    <TextBlock Text="Hacks" 
                               FontSize="40"
                               Margin="0,10"
                               Style="{StaticResource SettingText}"/>

                    <!-- Protect zero page -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Protect the zero page from reads and writes
                                            <LineBreak/>
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:"
                                                       TextDecorations="Underline"/>
                                            <LineBreak/>
                                            <TextBlock Padding="10,0,0,0" 
                                                       TextAlignment="Left">
                                                - On (default)
                                                <LineBreak/>
                                                - Off (hack, needed for certain games)
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Protect Zero Page
                            </TextBlock>
                            
                            <CheckBox x:Name="ProtectZero" 
                                      Grid.Column="1"
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Break on unimplemented instructions -->
                    <Border Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="20" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Break to the host debugger (or crash if no debugger attached) if an unimplemented PowerPC instruction is encountered
                                            <LineBreak/>
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:"
                                                       TextDecorations="Underline"/>
                                            <LineBreak/>
                                            <TextBlock Padding="10,0,0,0" 
                                                       TextAlignment="Left">
                                                - On (default)
                                                <LineBreak/>
                                                - Off (hack, needed for certain games)
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Break On Unimplemented Instructions
                            </TextBlock>
                            
                            <CheckBox x:Name="BreakOnUnimplementedInstructions" 
                                      Grid.Column="1" 
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>

                    <!-- Clear GPU Cache -->
                    <Border x:Name="ClearMemoryPageStatusOption" 
                            Style="{StaticResource XeniaSetting}">
                        <Grid Height="50">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"  
                                       FontSize="24" 
                                       Style="{StaticResource SettingText}">
                                <TextBlock.ToolTip>
                                    <ToolTip>
                                        <TextBlock TextAlignment="Left">
                                            Refresh the state of memory pages to enable gpu written data
                                            <LineBreak/>
                                            <TextBlock FontWeight="SemiBold" 
                                                       Text="Options:"
                                                       TextDecorations="Underline"/>
                                            <LineBreak/>
                                            <TextBlock Padding="10,0,0,0" 
                                                       TextAlignment="Left">
                                                - On (worsens performance, but can help reduce visual anomalies like polygon explosions or corrupted textures.)
                                                <LineBreak/>
                                                - Off (default)
                                            </TextBlock>
                                        </TextBlock>
                                    </ToolTip>
                                </TextBlock.ToolTip>
                                Clear GPU Cache
                            </TextBlock>
                            
                            <CheckBox x:Name="ClearGPUCache" 
                                      Grid.Column="1"
                                      Cursor="Hand"
                                      Margin="0,10" 
                                      Style="{StaticResource CheckboxStyle}"
                                      Width="45"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Border>
</Page>
